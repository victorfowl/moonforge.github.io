<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Contacto — Moonforge</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="topbar">
  <div class="container nav-wrap">
    <a href="index.html" class="brand"><img src="assets/logo.svg" alt="Moonforge" class="brand-logo"></a>
    <nav class="nav">
      <a href="contact.html" class="active">Contáctanos</a>
    </nav>
  </div>
</header>

<main class="section container">
    <h1>Contacto</h1>
    <form action="https://formspree.io/f/xnnbojnb" method="POST">
        <label>Nombre <input type="text" name="nombre" required></label>
        <label>Email <input type="email" name="email" required></label>
        <label>Asunto <input type="text" name="asunto"></label>
        <label>Mensaje <textarea name="mensaje" required></textarea></label>

        <input type="hidden" name="_subject" value="[Contacto] Moonforge">
        <input type="hidden" name="_language" value="es">
        <input type="text" name="_honey" style="display:none">
        <input type="hidden" name="_gotcha" style="display:none">
        <input type="hidden" name="_redirect" value="https://moonforge.es/index.html">

        <button type="submit">Enviar</button>
    </form>
    <script>
        const FORM_URL = "https://formspree.io/f/xnnbojnb";
        const form = document.querySelector("form");
        const estado = document.getElementById("estado");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            estado.textContent = "Enviando…";
            try {
                const data = Object.fromEntries(new FormData(form).entries());
                const r = await fetch(FORM_URL, {
                    method: "POST",
                    headers: { "Accept": "application/json" },
                    body: new FormData(form)
                });
                if (r.ok) { estado.textContent = "Enviado. Gracias."; form.reset(); }
                else {
                    const err = await r.json().catch(() => ({}));
                    estado.textContent = "Error: " + (err.errors?.[0]?.message || r.statusText);
                }
            } catch {
                estado.textContent = "Error de red";
            }
        });
    </script>
</main>

<footer class="footer">
  <div class="container">© <span id="year"></span> Moonforge</div>
</footer>

<script>
const API = "#";
document.getElementById('contactForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const s = document.getElementById('contactStatus');
  s.textContent = 'Enviando…';
  setTimeout(()=>{ s.textContent='Demo. Conecta backend o servicio externo.'; }, 400);
});
</script>
</body>
</html>
